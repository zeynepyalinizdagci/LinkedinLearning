{"ast":null,"code":"import { of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../directives/online-status.directive\";\nimport * as i5 from \"../../pipes/sort-by-gem-count/sort-by-gem-count.pipe\";\nconst _c0 = function (a1) {\n  return [\"/profile\", a1];\n};\nfunction MostGemsComponent_ul_2_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4)(1, \"a\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"appOnlineStatus\", player_r5.online);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, player_r5.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(player_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 4, player_r5.gems.length), \"\");\n  }\n}\nfunction MostGemsComponent_ul_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 0);\n    i0.ɵɵtemplate(1, MostGemsComponent_ul_2_li_1_Template, 6, 8, \"li\", 3);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵpipe(3, \"sortByGemCount\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const players_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 1, i0.ɵɵpipeBind1(3, 5, players_r3), 0, 5));\n  }\n}\nfunction MostGemsComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 0);\n    i0.ɵɵtext(1, \"Loading gem counts\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class MostGemsComponent {\n  constructor(api) {\n    this.api = api;\n    this.players$ = of(undefined);\n  }\n  ngOnInit() {\n    this.players$ = this.api.getAllPlayers$();\n  }\n}\nMostGemsComponent.ɵfac = function MostGemsComponent_Factory(t) {\n  return new (t || MostGemsComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nMostGemsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MostGemsComponent,\n  selectors: [[\"app-most-gems\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"my-4\"], [\"class\", \"my-4\", 4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [3, \"appOnlineStatus\", 4, \"ngFor\", \"ngForOf\"], [3, \"appOnlineStatus\"], [3, \"routerLink\"], [1, \"lead\"]],\n  template: function MostGemsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"Most Gems\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, MostGemsComponent_ul_2_Template, 4, 7, \"ul\", 1);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, MostGemsComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.players$))(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.OnlineStatusDirective, i2.AsyncPipe, i2.SlicePipe, i2.DecimalPipe, i5.SortByGemCountPipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["of","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","player_r5","online","ɵɵadvance","ɵɵpureFunction1","_c0","id","ɵɵtextInterpolate","name","ɵɵtextInterpolate1","ɵɵpipeBind1","gems","length","ɵɵtemplate","MostGemsComponent_ul_2_li_1_Template","ɵɵpipeBind3","players_r3","MostGemsComponent","constructor","api","players$","undefined","ngOnInit","getAllPlayers$","ɵɵdirectiveInject","i1","ApiService","selectors","decls","vars","consts","template","MostGemsComponent_Template","rf","ctx","MostGemsComponent_ul_2_Template","MostGemsComponent_ng_template_4_Template","ɵɵtemplateRefExtractor","_r1"],"sources":["C:\\Projects\\Angular\\angular-essential-training-3266043\\src\\app\\components\\most-gems\\most-gems.component.ts","C:\\Projects\\Angular\\angular-essential-training-3266043\\src\\app\\components\\most-gems\\most-gems.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Player } from '../../interfaces/player';\r\nimport { ApiService } from '../../services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-most-gems',\r\n  templateUrl: './most-gems.component.html',\r\n  styleUrls: ['./most-gems.component.css']\r\n})\r\nexport class MostGemsComponent implements OnInit {\r\n  public players$: Observable<Player[] | undefined> = of(undefined);\r\n\r\n  constructor(\r\n    private api: ApiService\r\n  ) { }\r\n\r\n  public ngOnInit(): void {\r\n    this.players$ = this.api.getAllPlayers$();\r\n  }\r\n}\r\n","<h2 class=\"my-4\">Most Gems</h2>\r\n\r\n<ul *ngIf=\"players$ | async as players; else loading\" class=\"my-4\">\r\n  <li *ngFor=\"let player of players | sortByGemCount | slice : 0 : 5\" [appOnlineStatus]=\"player.online\">\r\n    <a [routerLink]=\"['/profile', player.id]\">{{ player.name }}</a>\r\n    <span class=\"lead\"> {{ player.gems.length | number }}</span>\r\n  </li>\r\n</ul>\r\n\r\n<ng-template #loading>\r\n  <p class=\"my-4\">Loading gem counts&hellip;</p>\r\n</ng-template>\r\n"],"mappings":"AACA,SAAqBA,EAAE,QAAQ,MAAM;;;;;;;;;;;;ICEnCC,EAAA,CAAAC,cAAA,YAAsG;IAC1DD,EAAA,CAAAE,MAAA,GAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAC/DH,EAAA,CAAAC,cAAA,cAAmB;IAACD,EAAA,CAAAE,MAAA,GAAiC;;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;IAFMH,EAAA,CAAAI,UAAA,oBAAAC,SAAA,CAAAC,MAAA,CAAiC;IAChGN,EAAA,CAAAO,SAAA,GAAsC;IAAtCP,EAAA,CAAAI,UAAA,eAAAJ,EAAA,CAAAQ,eAAA,IAAAC,GAAA,EAAAJ,SAAA,CAAAK,EAAA,EAAsC;IAACV,EAAA,CAAAO,SAAA,GAAiB;IAAjBP,EAAA,CAAAW,iBAAA,CAAAN,SAAA,CAAAO,IAAA,CAAiB;IACvCZ,EAAA,CAAAO,SAAA,GAAiC;IAAjCP,EAAA,CAAAa,kBAAA,MAAAb,EAAA,CAAAc,WAAA,OAAAT,SAAA,CAAAU,IAAA,CAAAC,MAAA,MAAiC;;;;;IAHzDhB,EAAA,CAAAC,cAAA,YAAmE;IACjED,EAAA,CAAAiB,UAAA,IAAAC,oCAAA,gBAGK;;;IACPlB,EAAA,CAAAG,YAAA,EAAK;;;;IAJoBH,EAAA,CAAAO,SAAA,GAA2C;IAA3CP,EAAA,CAAAI,UAAA,YAAAJ,EAAA,CAAAmB,WAAA,OAAAnB,EAAA,CAAAc,WAAA,OAAAM,UAAA,SAA2C;;;;;IAOlEpB,EAAA,CAAAC,cAAA,WAAgB;IAAAD,EAAA,CAAAE,MAAA,+BAA0B;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;ADAhD,OAAM,MAAOkB,iBAAiB;EAG5BC,YACUC,GAAe;IAAf,KAAAA,GAAG,GAAHA,GAAG;IAHN,KAAAC,QAAQ,GAAqCzB,EAAE,CAAC0B,SAAS,CAAC;EAI7D;EAEGC,QAAQA,CAAA;IACb,IAAI,CAACF,QAAQ,GAAG,IAAI,CAACD,GAAG,CAACI,cAAc,EAAE;EAC3C;;AATWN,iBAAiB,C;mBAAjBA,iBAAiB,EAAArB,EAAA,CAAA4B,iBAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAjBT,iBAAiB,C;QAAjBA,iBAAiB;EAAAU,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV9BrC,EAAA,CAAAC,cAAA,YAAiB;MAAAD,EAAA,CAAAE,MAAA,gBAAS;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAE/BH,EAAA,CAAAiB,UAAA,IAAAsB,+BAAA,gBAKK;;MAELvC,EAAA,CAAAiB,UAAA,IAAAuB,wCAAA,gCAAAxC,EAAA,CAAAyC,sBAAA,CAEc;;;;MATTzC,EAAA,CAAAO,SAAA,GAAuB;MAAvBP,EAAA,CAAAI,UAAA,SAAAJ,EAAA,CAAAc,WAAA,OAAAwB,GAAA,CAAAd,QAAA,EAAuB,aAAAkB,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}