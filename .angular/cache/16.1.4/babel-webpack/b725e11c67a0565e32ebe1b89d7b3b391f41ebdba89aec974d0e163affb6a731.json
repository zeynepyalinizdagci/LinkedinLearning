{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLinkWithHref } from '@angular/router';\nimport { of } from 'rxjs';\nimport { OnlineStatusDirective } from '../../directives/online-status.directive';\nimport { SortByScoreModule } from '../../pipes/sort-by-score/sort-by-score.module';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../pipes/sort-by-score/sort-by-score.pipe\";\nconst _c0 = function (a1) {\n  return [\"/profile\", a1];\n};\nfunction HighScoresComponent_ul_2_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4)(1, \"a\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"percent\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const player_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"appOnlineStatus\", player_r5.online);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, player_r5.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(player_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 4, player_r5.score, \"1.1-1\"), \"\");\n  }\n}\nfunction HighScoresComponent_ul_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 0);\n    i0.ɵɵtemplate(1, HighScoresComponent_ul_2_li_1_Template, 6, 9, \"li\", 3);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵpipe(3, \"sortByScore\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const players_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 1, i0.ɵɵpipeBind1(3, 5, players_r3), 0, 5));\n  }\n}\nfunction HighScoresComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 0);\n    i0.ɵɵtext(1, \"Loading high scores\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class HighScoresComponent {\n  constructor(api) {\n    this.api = api;\n    this.players$ = of(undefined);\n  }\n  ngOnInit() {\n    this.players$ = this.api.getAllPlayers$();\n  }\n}\nHighScoresComponent.ɵfac = function HighScoresComponent_Factory(t) {\n  return new (t || HighScoresComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nHighScoresComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HighScoresComponent,\n  selectors: [[\"app-high-scores\"]],\n  standalone: true,\n  features: [i0.ɵɵProvidersFeature([]), i0.ɵɵStandaloneFeature],\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"my-4\"], [\"class\", \"my-4\", 4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [3, \"appOnlineStatus\", 4, \"ngFor\", \"ngForOf\"], [3, \"appOnlineStatus\"], [3, \"routerLink\"], [1, \"lead\"]],\n  template: function HighScoresComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"High Scores\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, HighScoresComponent_ul_2_Template, 4, 7, \"ul\", 1);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, HighScoresComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.players$))(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.AsyncPipe, i2.SlicePipe, i2.PercentPipe, OnlineStatusDirective, RouterLinkWithHref, SortByScoreModule, i3.SortByScorePipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"],\n  changeDetection: 0\n});","map":{"version":3,"names":["CommonModule","RouterLinkWithHref","of","OnlineStatusDirective","SortByScoreModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","player_r5","online","ɵɵadvance","ɵɵpureFunction1","_c0","id","ɵɵtextInterpolate","name","ɵɵtextInterpolate1","ɵɵpipeBind2","score","ɵɵtemplate","HighScoresComponent_ul_2_li_1_Template","ɵɵpipeBind3","ɵɵpipeBind1","players_r3","HighScoresComponent","constructor","api","players$","undefined","ngOnInit","getAllPlayers$","ɵɵdirectiveInject","i1","ApiService","selectors","standalone","features","ɵɵProvidersFeature","ɵɵStandaloneFeature","decls","vars","consts","template","HighScoresComponent_Template","rf","ctx","HighScoresComponent_ul_2_Template","HighScoresComponent_ng_template_4_Template","ɵɵtemplateRefExtractor","_r1","i2","NgForOf","NgIf","AsyncPipe","SlicePipe","PercentPipe","i3","SortByScorePipe","styles","changeDetection"],"sources":["C:\\Projects\\Angular\\angular-essential-training-3266043\\src\\app\\components\\high-scores\\high-scores.component.ts","C:\\Projects\\Angular\\angular-essential-training-3266043\\src\\app\\components\\high-scores\\high-scores.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\r\nimport { RouterLinkWithHref } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\nimport { OnlineStatusDirective } from '../../directives/online-status.directive';\r\nimport { Player } from '../../interfaces/player';\r\nimport { SortByScoreModule } from '../../pipes/sort-by-score/sort-by-score.module';\r\nimport { ApiService } from '../../services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-high-scores',\r\n  templateUrl: './high-scores.component.html',\r\n  styleUrls: ['./high-scores.component.css'],\r\n  standalone: true,\r\n  imports: [CommonModule, OnlineStatusDirective, RouterLinkWithHref, SortByScoreModule],\r\n  providers: [],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class HighScoresComponent implements OnInit {\r\n  public players$: Observable<Player[] | undefined> = of(undefined);\r\n\r\n  constructor(\r\n    private api: ApiService\r\n  ) { }\r\n\r\n  public ngOnInit(): void {\r\n    this.players$ = this.api.getAllPlayers$();\r\n  }\r\n}\r\n","<h2 class=\"my-4\">High Scores</h2>\r\n\r\n<ul *ngIf=\"players$ | async as players; else loading\" class=\"my-4\">\r\n  <li *ngFor=\"let player of players | sortByScore | slice : 0 : 5\" [appOnlineStatus]=\"player.online\">\r\n    <a [routerLink]=\"['/profile', player.id]\">{{ player.name }}</a>\r\n    <span class=\"lead\"> {{ player.score | percent : '1.1-1' }}</span>\r\n  </li>\r\n</ul>\r\n\r\n<ng-template #loading>\r\n  <p class=\"my-4\">Loading high scores&hellip;</p>\r\n</ng-template>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}